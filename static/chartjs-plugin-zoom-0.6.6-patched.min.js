/*!
 * chartjs-plugin-zoom
 * http://chartjs.org/
 * Version: 0.6.6
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/chartjs-plugin-zoom/blob/master/LICENSE.md
 *
 * Locally patched https://github.com/chartjs/chartjs-plugin-zoom/pull/161
 */
!function(){return function e(t,o,n){function a(r,l){if(!o[r]){if(!t[r]){var m="function"==typeof require&&require;if(!l&&m)return m(r,!0);if(i)return i(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return a(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}}()({1:[function(e,t,o){},{}],2:[function(e,t,o){var n=e("hammerjs");n="function"==typeof n?n:window.Hammer;var a=e("chart.js"),i=(a="function"==typeof a?a:window.Chart).helpers,r=a.Zoom=a.Zoom||{},l=r.zoomFunctions=r.zoomFunctions||{},m=r.panFunctions=r.panFunctions||{},s=r.defaults={pan:{enabled:!0,mode:"xy",speed:20,threshold:10},zoom:{enabled:!0,mode:"xy",sensitivity:3}};function u(e,t){return void 0===e||"string"==typeof e&&-1!==e.indexOf(t)}function c(e,t){if(e.scaleAxes&&e.rangeMax&&!i.isNullOrUndef(e.rangeMax[e.scaleAxes])){var o=e.rangeMax[e.scaleAxes];t>o&&(t=o)}return t}function d(e,t){if(e.scaleAxes&&e.rangeMin&&!i.isNullOrUndef(e.rangeMin[e.scaleAxes])){var o=e.rangeMin[e.scaleAxes];t<o&&(t=o)}return t}function p(e,t,o,n){var a=e.max-e.min,i=a*(t-1),r=e.isHorizontal()?o.x:o.y,l=(e.getValueForPixel(r)-e.min)/a,m=i*l,s=i*(1-l);e.options.ticks.min=d(n,e.min+m),e.options.ticks.max=c(n,e.max-s)}function f(e,t,o,n){var a=l[e.options.type];a&&a(e,t,o,n)}function v(e,t,o,n){var a=e.chartArea;o||(o={x:(a.left+a.right)/2,y:(a.top+a.bottom)/2});var r=e.options.zoom;if(r&&i.getValueOrDefault(r.enabled,s.zoom.enabled)){var l,m=i.getValueOrDefault(e.options.zoom.mode,s.zoom.mode);r.sensitivity=i.getValueOrDefault(e.options.zoom.sensitivity,s.zoom.sensitivity),l="xy"==m&&void 0!==n?n:"xy",i.each(e.scales,function(e,n){e.isHorizontal()&&u(m,"x")&&u(l,"x")?(r.scaleAxes="x",f(e,t,o,r)):!e.isHorizontal()&&u(m,"y")&&u(l,"y")&&(r.scaleAxes="y",f(e,t,o,r))}),e.update(0),"function"==typeof r.onZoom&&r.onZoom()}}function x(e,t,o){var n=e.options.ticks,a=e.start,i=e.end;n.reverse?(n.max=e.getValueForPixel(e.getPixelForValue(a)-t),n.min=e.getValueForPixel(e.getPixelForValue(i)-t)):(n.min=e.getValueForPixel(e.getPixelForValue(a)-t),n.max=e.getValueForPixel(e.getPixelForValue(i)-t)),n.min=d(o,n.min),n.max=c(o,n.max)}function g(e,t,o){var n=m[e.options.type];n&&n(e,t,o)}function h(e){var t=e.scales;for(var o in t){var n=t[o];if(!n.isHorizontal())return n}}r.zoomFunctions.category=function(e,t,o,n){var a=e.chart.data.labels,i=e.minIndex,l=a.length-1,m=e.maxIndex,s=n.sensitivity,u=e.isHorizontal()?e.left+e.width/2:e.top+e.height/2,p=e.isHorizontal()?o.x:o.y;r.zoomCumulativeDelta=t>1?r.zoomCumulativeDelta+1:r.zoomCumulativeDelta-1,Math.abs(r.zoomCumulativeDelta)>s&&(r.zoomCumulativeDelta<0?(p>=u?i<=0?m=Math.min(l,m+1):i=Math.max(0,i-1):p<u&&(m>=l?i=Math.max(0,i-1):m=Math.min(l,m+1)),r.zoomCumulativeDelta=0):r.zoomCumulativeDelta>0&&(p>=u?i=i<m?i=Math.min(m,i+1):i:p<u&&(m=m>i?m=Math.max(i,m-1):m),r.zoomCumulativeDelta=0),e.options.ticks.min=d(n,a[i]),e.options.ticks.max=c(n,a[m]))},r.zoomFunctions.time=function(e,t,o,n){var a,i,r=e.options;e.isHorizontal()?(a=e.right-e.left,i=(o.x-e.left)/a):(a=e.bottom-e.top,i=(o.y-e.top)/a);var l=a*(t-1),m=l*i,s=l*(1-i),u=e.getValueForPixel(e.getPixelForValue(e.min)+m),p=e.getValueForPixel(e.getPixelForValue(e.max)-s),f=p.diff(u),v=d(n,f)!=f,x=c(n,f)!=f;v||x||(r.time.min=u,r.time.max=p)},r.zoomFunctions.linear=p,r.zoomFunctions.logarithmic=p,r.panFunctions.category=function(e,t,o){var n,a=e.chart.data.labels,i=a.length-1,l=Math.max(e.ticks.length-(e.options.gridLines.offsetGridLines?0:1),1),m=o.speed,s=e.minIndex,u=Math.round(e.width/(l*m));r.panCumulativeDelta+=t,s=r.panCumulativeDelta>u?Math.max(0,s-1):r.panCumulativeDelta<-u?Math.min(i-l+1,s+1):s,r.panCumulativeDelta=s!==e.minIndex?0:r.panCumulativeDelta,n=Math.min(i,s+l-1),e.options.ticks.min=d(o,a[s]),e.options.ticks.max=c(o,a[n])},r.panFunctions.time=function(e,t,o){var n=e.options,a=c(o,e.getValueForPixel(e.getPixelForValue(e.max)-t)),i=d(o,e.getValueForPixel(e.getPixelForValue(e.min)-t)),r=t<0?a-e.max:i-e.min;n.time.max=e.max+r,n.time.min=e.min+r},r.panFunctions.linear=x,r.panFunctions.logarithmic=x,r.panCumulativeDelta=0,r.zoomCumulativeDelta=0;var z={id:"zoom",afterInit:function(e){i.each(e.scales,function(e){e.originalOptions=i.clone(e.options)}),e.resetZoom=function(){i.each(e.scales,function(e,t){var o=e.options.time,n=e.options.ticks;o&&(o.min=e.originalOptions.time.min,o.max=e.originalOptions.time.max),n&&(n.min=e.originalOptions.ticks.min,n.max=e.originalOptions.ticks.max)}),i.each(e.data.datasets,function(e,t){e._meta=null}),e.update()}},beforeInit:function(e){e.zoom={};var t=e.zoom.node=e.chart.ctx.canvas,o=e.options,a=i.getValueOrDefault(o.pan?o.pan.threshold:void 0,r.defaults.pan.threshold);if(o.zoom&&o.zoom.enabled&&(o.zoom.drag?(o.zoom.mode="x",e.zoom._mouseDownHandler=function(t){e.zoom._dragZoomStart=t},t.addEventListener("mousedown",e.zoom._mouseDownHandler),e.zoom._mouseMoveHandler=function(t){e.zoom._dragZoomStart&&(e.zoom._dragZoomEnd=t,e.update(0))},t.addEventListener("mousemove",e.zoom._mouseMoveHandler),e.zoom._mouseUpHandler=function(t){if(e.zoom._dragZoomStart){var o=e.chartArea,n=h(e),a=e.zoom._dragZoomStart,i=a.target.getBoundingClientRect().left,r=Math.min(a.clientX,t.clientX)-i,l=Math.max(a.clientX,t.clientX)-i-r,m=o.right-o.left,s=1+(m-l)/m;e.zoom._dragZoomStart=null,e.zoom._dragZoomEnd=null,l>0&&v(e,s,{x:(r-o.left)/(1-l/m)+o.left,y:(n.bottom-n.top)/2})}},t.addEventListener("mouseup",e.zoom._mouseUpHandler)):(e.zoom._wheelHandler=function(t){var o=t.target.getBoundingClientRect(),n={x:t.clientX-o.left,y:t.clientY-o.top};t.deltaY<0?v(e,1.1,n):v(e,.909,n),t.preventDefault()},t.addEventListener("wheel",e.zoom._wheelHandler)),n)){var l,m=new n.Manager(t);m.add(new n.Pinch),m.add(new n.Pan({threshold:a}));var c=function(t){var o=1/l*t.scale,n=t.target.getBoundingClientRect(),a={x:t.center.x-n.left,y:t.center.y-n.top},i=Math.abs(t.pointers[0].clientX-t.pointers[1].clientX),r=Math.abs(t.pointers[0].clientY-t.pointers[1].clientY),m=i/r;v(e,o,a,m>.3&&m<1.7?"xy":i>r?"x":"y"),l=t.scale};m.on("pinchstart",function(e){l=1}),m.on("pinch",c),m.on("pinchend",function(e){c(e),l=null,r.zoomCumulativeDelta=0});var d=null,p=null,f=!1,x=function(t){if(null!==d&&null!==p){f=!0;var o=t.deltaX-d,n=t.deltaY-p;d=t.deltaX,p=t.deltaY,function(e,t,o){var n=e.options.pan;if(n&&i.getValueOrDefault(n.enabled,s.pan.enabled)){var a=i.getValueOrDefault(e.options.pan.mode,s.pan.mode);n.speed=i.getValueOrDefault(e.options.pan.speed,s.pan.speed),i.each(e.scales,function(e,i){e.isHorizontal()&&u(a,"x")&&0!==t?(n.scaleAxes="x",g(e,t,n)):!e.isHorizontal()&&u(a,"y")&&0!==o&&(n.scaleAxes="y",g(e,o,n))}),e.update(0),"function"==typeof n.onPan&&n.onPan()}}(e,o,n)}};m.on("panstart",function(e){d=0,p=0,x(e)}),m.on("panmove",x),m.on("panend",function(e){d=null,p=null,r.panCumulativeDelta=0,setTimeout(function(){f=!1},500)}),e.zoom._ghostClickHandler=function(e){f&&(e.stopImmediatePropagation(),e.preventDefault())},t.addEventListener("click",e.zoom._ghostClickHandler),e._mc=m}},beforeDatasetsDraw:function(e){var t=e.chart.ctx,o=e.chartArea;if(t.save(),t.beginPath(),e.zoom._dragZoomEnd){var n=h(e),a=e.zoom._dragZoomStart,i=e.zoom._dragZoomEnd,r=a.target.getBoundingClientRect().left,l=Math.min(a.clientX,i.clientX)-r,m=Math.max(a.clientX,i.clientX)-r-l;t.fillStyle="rgba(225,225,225,0.3)",t.lineWidth=5,t.fillRect(l,n.top,m,n.bottom-n.top)}t.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),t.clip()},afterDatasetsDraw:function(e){e.chart.ctx.restore()},destroy:function(e){if(e.zoom){var t=e.options,o=e.zoom.node;t.zoom&&t.zoom.drag?(o.removeEventListener("mousedown",e.zoom._mouseDownHandler),o.removeEventListener("mousemove",e.zoom._mouseMoveHandler),o.removeEventListener("mouseup",e.zoom._mouseUpHandler)):o.removeEventListener("wheel",e.zoom._wheelHandler),n&&o.removeEventListener("click",e.zoom._ghostClickHandler),delete e.zoom;var a=e._mc;a&&(a.remove("pinchstart"),a.remove("pinch"),a.remove("pinchend"),a.remove("panstart"),a.remove("pan"),a.remove("panend"))}}};t.exports=z,a.pluginService.register(z)},{"chart.js":1,hammerjs:1}]},{},[2]);